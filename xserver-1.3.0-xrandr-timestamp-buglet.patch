diff -up xorg-server-1.3.0.0/randr/rrscreen.c.xrandr-timestamp xorg-server-1.3.0.0/randr/rrscreen.c
--- xorg-server-1.3.0.0/randr/rrscreen.c.xrandr-timestamp	2008-07-24 09:52:23.000000000 -0400
+++ xorg-server-1.3.0.0/randr/rrscreen.c	2008-07-24 09:53:42.000000000 -0400
@@ -764,7 +764,6 @@ ProcRRSetScreenConfig (ClientPtr client)
     pScrPriv = rrGetScrPriv(pScreen);
     
     time = ClientTimeToServerTime(stuff->timestamp);
-    configTime = ClientTimeToServerTime(stuff->configTimestamp);
     
     if (!pScrPriv)
     {
@@ -784,11 +783,15 @@ ProcRRSetScreenConfig (ClientPtr client)
     }
     
     /*
-     * if the client's config timestamp is not the same as the last config
+     * If the client's config timestamp is not the same as the last config
      * timestamp, then the config information isn't up-to-date and
-     * can't even be validated
+     * can't even be validated.
+     *
+     * Note that the client only knows about the milliseconds part of the
+     * timestamp, so using CompareTimeStamps here would cause randr to suddenly
+     * stop working after several hours have passed (freedesktop bug #6502).
      */
-    if (CompareTimeStamps (configTime, pScrPriv->lastConfigTime) != 0)
+    if (stuff->configTimestamp != pScrPriv->lastConfigTime.milliseconds)
     {
 	rep.status = RRSetConfigInvalidConfigTime;
 	goto sendReply;
