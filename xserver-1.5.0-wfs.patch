From 2939645164d6825f571c83c419e3ec61a7dc6279 Mon Sep 17 00:00:00 2001
From: Adam Jackson <ajax@benzedrine.nwnk.net>
Date: Wed, 12 Mar 2008 19:21:08 -0400
Subject: [PATCH] Additional input readiness check in WaitForSomething.

---
 os/WaitFor.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

diff --git a/os/WaitFor.c b/os/WaitFor.c
index 36e01ca..0203d6e 100644
--- a/os/WaitFor.c
+++ b/os/WaitFor.c
@@ -332,13 +332,11 @@ WaitForSomething(int *pClientsReady)
 
 	    if (XFD_ANYSET (&devicesReadable) || XFD_ANYSET (&clientsReadable))
 		break;
-#ifdef WIN32
 	    /* Windows keyboard and mouse events are added to the input queue
 	       in Block- and WakupHandlers. There is no device to check if  
 	       data is ready. So check here if new input is available */
 	    if (*checkForInput[0] != *checkForInput[1])
 		return 0;
-#endif
 	}
     }
 
-- 
1.5.4.3

